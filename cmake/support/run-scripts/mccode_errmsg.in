#!/usr/bin/env bash
# Wrapper to display console error messages on Unixes
PREFIX=`dirname $0`
PREFIX=`dirname $PREFIX`
PREFIX=`dirname $PREFIX`
PREFIX=`dirname $PREFIX`
export @FLAVOR_UPPER@=$PREFIX/@DEST_DATADIR_COMPS@
export PATH=$PREFIX/@DEST_BINDIR@:$PATH

ERRMSG=`echo $* | sed s/\ /\\ /g`
export ERRMSG="@FLAVOR@: $ERRMSG"

python3 -c "import os;import PyQt5.QtWidgets as w; app = w.QApplication(['infobox']); w.QMessageBox.information(None, 'Infobox', os.getenv('ERRMSG'))"
